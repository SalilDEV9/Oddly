<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI Video Hub | Salil</title>
<script src="https://www.youtube.com/iframe_api"></script>

<style>
body{
    margin:0;
    font-family:Arial;
    background:#0b0f1a;
    color:white;
}
header{
    padding:15px;
    text-align:center;
    background:#111827;
}
input{
    width:50%;
    padding:10px;
    border-radius:5px;
    border:none;
}
button{
    padding:10px 15px;
    border:none;
    border-radius:5px;
    background:#ff0033;
    color:white;
    cursor:pointer;
}
.main{
    display:flex;
    padding:20px;
}
#player{
    flex:3;
}
.sidebar{
    flex:1;
    margin-left:20px;
    max-height:80vh;
    overflow-y:auto;
}
.video-item{
    display:flex;
    margin-bottom:10px;
    cursor:pointer;
    background:#1a1f2e;
    padding:5px;
    border-radius:5px;
}
.video-item img{
    width:120px;
    border-radius:5px;
}
.video-info{
    padding-left:10px;
    font-size:14px;
}
.controls{
    text-align:center;
    margin-top:10px;
}
.controls button{
    margin:5px;
    background:#1f2937;
}
</style>
</head>

<body>

<header>
<h2>ü§ñ AI Video Hub ‚Äî Developed by Salil</h2>
<input id="searchInput" placeholder="Search videos...">
<button onclick="searchVideos()">Search</button>
</header>

<div class="main">
<div>
<div id="player"></div>

<div class="controls">
<button onclick="player.playVideo()">‚ñ∂ Play</button>
<button onclick="player.pauseVideo()">‚è∏ Pause</button>
<button onclick="player.seekTo(player.getCurrentTime()-10)">‚è™ -10s</button>
<button onclick="player.seekTo(player.getCurrentTime()+10)">‚è© +10s</button>
</div>
</div>

<div class="sidebar" id="recommendations"></div>
</div>

<script>
const API_KEY = "AIzaSyBUB6X7AvsG6z0gNtgcIdqx_C8Ssvm2B5w";
let player;
let playlist = [];
let currentIndex = 0;

function onYouTubeIframeAPIReady(){
    player = new YT.Player('player',{
        height:'480',
        width:'100%',
        videoId:'',
        events:{ 'onStateChange': onPlayerStateChange }
    });
}

function searchVideos(){
    const q = document.getElementById("searchInput").value;
    fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=8&q=${q}&key=${API_KEY}`)
    .then(r=>r.json())
    .then(d=>{
        playlist = d.items.map(i=>i.id.videoId);
        currentIndex = 0;
        loadVideo(playlist[0]);
        showSidebar(d.items);
    });
}

function loadVideo(id){
    player.loadVideoById(id);
}

function onPlayerStateChange(e){
    if(e.data == YT.PlayerState.ENDED){
        currentIndex++;
        if(currentIndex < playlist.length){
            loadVideo(playlist[currentIndex]);
        }
    }
}

function showSidebar(items){
    const container = document.getElementById("recommendations");
    container.innerHTML = "";
    items.forEach(v=>{
        const div = document.createElement("div");
        div.className="video-item";
        div.innerHTML = `
            <img src="${v.snippet.thumbnails.medium.url}">
            <div class="video-info">${v.snippet.title}</div>
        `;
        div.onclick = ()=> loadVideo(v.id.videoId);
        container.appendChild(div);
    });
}
</script>

</body>
</html>
